---
title: 工作流 为什么本地commit后先pull再push
categories:
  - 01.开发学习笔记 markdown
  - 03.命令行基础
  - git
---

为了多人协作时，因为推送代码先后顺序的不同，不产生强制推送覆盖别人的代码。

git log得到历史版本信息 是一连串的commit信息

如你从一个git log为1,2,3,4,5,6的远程库拉取到了本地,
另一个同事也拉取了同样的代码,而且你的同事先于你提交到远程了,
此时远程的版本是1,2,3,4,5,6,7_new,8_new,
而你当前只是本地的版本1,2,3,4,5,6,7_local,8_local,9_local
从这里你就能看出你前一部分和远程的一样,后一部分和远程的不一样,
这个时候你不能正常推送上去的,如果你采取git push origin master --force
那么远程的版本就变成了1,2,3,4,5,6,7_local,8_local,9_local
之前你同事推送的7_new,8_new这两次推送被覆盖了,这不是大家想要的情况
因此需要git pull来将本地的版本合并成这样1,2,3,4,5,6,7_new,7_local,8_local,8_new,9_local,10_commit_merge

pull不会把你本地代码覆盖掉，而是提醒merge冲突，需要你手动merge一下

远程和本地的排序是按当时 commit 的时间来排的,最后一个10_commit_merge就是你本地和远程合并的标志,最后你推送到远程仓库的应该也是这个,
因为你们操作的是同一个库始终要保持代码的同步,所以一旦版本库发生改动同一分支下的所有人都要跟着去同步他,因为各开发各的直接往上推 git 还没智能到帮你处理冲突的地步

还有种情况是：
如果其他人和你修改了同一行代码，对方先push到远程，你需要pull下来，此时git会报告冲突，拉取最新代码后让你进行自我调试，解决冲突。

git的意思就是：冲突只能在本地解决。


要是push时有冲突，则可以

git fetch
git rebase origin/master
和merge类似 将origin/master分支合并到当前分支
根据提示解决冲突。
然后push 本地代码到远程
